---
title: React Hooks
date: 2021-03-26 16:00:00 +0000

---
Hooks是render props (RP)和higher order compoent (HOC)的进化版。  
写一个组件通常包括逻辑和视图两部分代码，在老式的react写法(React.Compoent)中，视图集中在render，逻辑则散布在constructor(states)和生命周期方法中。  
复用视图很简单，只要把视图部分抽成一个无状态的纯函数组件即可，而复用逻辑在老式的写法中需要靠绕弯子实现，比如RP和HOC。  
RP和HOC通常只包含逻辑，将逻辑结果以属性/参数的方式注入被wrap的视图组件，实现同一逻辑被多个视图组件复用。  
但RP和HOC有两点缺陷：1. 书写不够自然，RP和HOC都要包裹一层，且逻辑复用以JSX的形式出现（带有RP的纯逻辑组件被写成JSX）2. 如果要复用n个独立逻辑，则需要包裹n层，且每层的HOC或RP组件都要透传上一层的props，形成nesting hell  
于是，hooks出现了。就逻辑复用而言，hooks简洁的函数式写法取代了略显厚重的HOC与RP，如其名，带来即插即用的优雅体验。  
Hooks不仅是茴字的新写法，更重要的是带来了新的生态：没有了嵌套地域和透传，大家觉得复用逻辑真香；与此同时，带着感恩的心，大家写业务的时候更想抽出可复用的逻辑，封装成hooks并分享。